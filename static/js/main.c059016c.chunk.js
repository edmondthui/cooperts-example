(this["webpackJsonpkanbandb-app"]=this["webpackJsonpkanbandb-app"]||[]).push([[0],{138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(63),i=a.n(o),s=a(8),c=a(9),l=a(13),u=a(12),d=a(5),p=(a(73),a(17)),g=(a(74),a(75),a(15)),b=a(18),f=(a(76),Object(d.a)((function(e){var t=e.card,a=e.index;return n.a.createElement(g.b,{draggableId:t.id,index:a},(function(e,a){return n.a.createElement("div",Object.assign({className:"card"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,id:t.id,style:(r=a.isDragging,o=e.draggableProps.style,r&&null!==o.transform&&(o.transform+=" rotate(10deg)"),Object(b.a)({},o))}),t.description);var r,o}))}))),m=Object(d.a)((function(e){var t=e.cards,a=e.status;return r.createElement(g.c,{droppableId:a},(function(e){return r.createElement("div",Object.assign({ref:e.innerRef,className:"card-column"},e.droppableProps),t.map((function(e,t){return r.createElement(f,{card:e,index:t,key:e.id})})),e.placeholder)}))})),O=a(40),h=a.n(O),j=a(7),y=a.n(j),k=(a(91),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"50%",height:"25%",boxShadow:"0px 2px 5px 5px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"center"}});h.a.setAppElement("#root");var v,w,E,P,S,D,I,N,x,C,R,T,z,A=function(e){return function(t){e.setCreateString(t.target.value)}},M=function(e,t){return function(a){a.preventDefault(),t.trim().length&&e.toggleModal(!0)}},L=function(e){return function(t){e.toggleModal(!1)}},_=function(e){return function(t){t.preventDefault();var a={name:e.createString.getOrElseValue(""),description:e.createString.getOrElseValue(""),status:e.status};a.status.length>0?y.a.fromPromise((function(){return e.db.addCard(a)})).fork((function(e){return console.log(e)}),(function(t){var r=Object.assign({id:t},a);e.addCard(r)})):console.log("status required!")}},G=function(e){return function(t){e.setStatus(t.target.value)}},W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.store;return n.a.createElement("div",{className:"create-card"},n.a.createElement(h.a,{isOpen:e.modalOpen,onRequestClose:L(e),style:k,contentLabel:"Create Card Modal"},n.a.createElement("form",{onSubmit:_(e),className:"modal-form"},n.a.createElement("select",{onChange:G(e),value:e.status},n.a.createElement("option",{value:"",disabled:!0},"SELECT STATUS"),n.a.createElement("option",{value:"TODO"},"To-do"),n.a.createElement("option",{value:"IN_PROGRESS"},"In Progress"),n.a.createElement("option",{value:"DONE"},"Done")),n.a.createElement("button",null,"CREATE CARD"))),n.a.createElement("form",{onSubmit:M(e,e.createString.getOrElseValue("")),className:"create-card-form"},n.a.createElement("input",{onChange:A(e),value:this.props.createString.getOrElseValue(""),placeholder:"e.g. Bug: TextPoll not dispatching half stars",maxLength:500}),n.a.createElement("button",null,"ADD NEW")))}}]),a}(n.a.Component),B=Object(d.a)(W),U=function(e,t){switch(e){case"TODO":return Array.from(t.todo);case"IN_PROGRESS":return Array.from(t.inProgress);case"DONE":return Array.from(t.done);default:return[]}},q=function(e,t,a){switch(e){case"TODO":return a.setTodo(t);case"IN_PROGRESS":return a.setInProgress(t);case"DONE":return a.setDone(t)}},V=function(e){return function(t){var a=t.destination,r=t.source;if(a&&(a.droppableId!==r.droppableId||a.index!==r.index)){var n=r.droppableId,o=U(n,e);if(a.droppableId===r.droppableId){var i=o.splice(r.index,1);console.log(i),o.splice.apply(o,[a.index,0].concat(Object(p.a)(i))),q(n,o,e)}if(a.droppableId!==r.droppableId){var s=o[r.index];s.status=a.droppableId,o.splice(r.index,1);var c=U(a.droppableId,e);c.splice(a.index,0,s),q(a.droppableId,c,e),q(n,o,e),y.a.fromPromise((function(){return e.db.updateCardById(s.id,{status:a.droppableId})})).fork((function(e){return console.log(e)}),(function(e){return console.log(e)}))}}}},F=Object(d.a)((function(e){var t=e.store,a=e.createString;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"columns-container"},n.a.createElement(g.a,{onDragEnd:V(t)},n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"To-do"),n.a.createElement(m,{cards:t.todo,status:"TODO"})),n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"In Progress"),n.a.createElement(m,{cards:t.inProgress,status:"IN_PROGRESS"})),n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"Done"),n.a.createElement(m,{cards:t.done,status:"DONE"})),n.a.createElement(B,{store:t,createString:a}))))})),H=a(4),J=a(3),$=(a(92),a(1)),K=a(16),Q=a(41),X=["kind"],Y=["kind"],Z=function(e){throw new Error("Unexpected object: ".concat(e))},ee=(v=function(){function e(){Object(s.a)(this,e),Object(H.a)(this,"state",w,this),Object(H.a)(this,"load",E,this),Object(H.a)(this,"ready",P,this),Object(H.a)(this,"error",S,this),Object(H.a)(this,"setCreateString",D,this),Object(H.a)(this,"toggleModal",I,this),Object(H.a)(this,"setStatus",N,this),Object(H.a)(this,"addCard",x,this),Object(H.a)(this,"setTodo",C,this),Object(H.a)(this,"setInProgress",R,this),Object(H.a)(this,"setDone",T,this),Object(H.a)(this,"setCards",z,this)}return Object(c.a)(e,[{key:"createString",get:function(){switch(this.state.kind){case"ready":case"loading":return Object(K.just)(this.state.createString);case"waiting":case"error":default:return Object(K.nothing)()}}},{key:"status",get:function(){switch(this.state.kind){case"ready":case"loading":return this.state.status;case"waiting":case"error":default:return""}}},{key:"modalOpen",get:function(){switch(this.state.kind){case"ready":case"loading":return this.state.open;case"waiting":case"error":default:return!1}}},{key:"errorMessage",get:function(){switch(this.state.kind){case"error":return Object(K.just)(this.state.message);case"ready":case"loading":case"waiting":default:return Object(K.nothing)()}}},{key:"todo",get:function(){switch(this.state.kind){case"ready":return console.log(this.state.todo),this.state.todo;case"error":case"loading":case"waiting":default:return[]}}},{key:"inProgress",get:function(){switch(this.state.kind){case"ready":return this.state.inProgress;case"error":case"loading":case"waiting":default:return[]}}},{key:"done",get:function(){switch(this.state.kind){case"ready":return this.state.done;case"error":case"loading":case"waiting":default:return[]}}},{key:"db",get:function(){switch(this.state.kind){case"ready":return this.state.db;case"loading":case"waiting":case"error":default:return!1}}}]),e}(),w=Object(J.a)(v.prototype,"state",[$.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{kind:"waiting"}}}),E=Object(J.a)(v.prototype,"load",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){switch(e.state.kind){case"waiting":e.state=function(e){e.kind;var t=Object(Q.a)(e,X);return Object(b.a)(Object(b.a)({kind:"loading"},t),{},{createString:"",open:!1,status:"",todo:[],inProgress:[],done:[],db:void 0})}(e.state);break;case"ready":case"loading":case"error":break;default:Z(e.state)}}}}),P=Object(J.a)(v.prototype,"ready",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":case"error":case"waiting":break;case"loading":console.log(t),e.state.db=t.db,e.state=function(e){e.kind;var t=Object(Q.a)(e,Y);return Object(b.a)({kind:"ready"},t)}(e.state);break;default:Z(e.state)}}}}),S=Object(J.a)(v.prototype,"error",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.state={kind:"error",message:"Request failed due to '".concat(t.kind,"'. Please try again later.")}}}}),D=Object(J.a)(v.prototype,"setCreateString",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.createString=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),I=Object(J.a)(v.prototype,"toggleModal",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":console.log("toggle"),console.log(t),e.state.open=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),N=Object(J.a)(v.prototype,"setStatus",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.status=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),x=Object(J.a)(v.prototype,"addCard",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":switch(t.status){case"TODO":e.state.todo=[].concat(Object(p.a)(e.state.todo),[t]).flat();break;case"IN_PROGRESS":e.state.inProgress=[].concat(Object(p.a)(e.state.inProgress),[t]).flat();break;case"DONE":e.state.done=[].concat(Object(p.a)(e.state.done),[t]).flat()}e.state.open=!1,e.state.createString="",e.state.status="";break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),C=Object(J.a)(v.prototype,"setTodo",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.todo=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),R=Object(J.a)(v.prototype,"setInProgress",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.inProgress=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),T=Object(J.a)(v.prototype,"setDone",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.done=t;break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),z=Object(J.a)(v.prototype,"setCards",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.todo=t.filter((function(e){return"TODO"===e.status})),e.state.inProgress=t.filter((function(e){return"IN_PROGRESS"===e.status})),e.state.done=t.filter((function(e){return"DONE"===e.status})),e.state.open=!1,e.state.createString="";break;case"error":case"waiting":case"loading":break;default:Z(e.state)}}}}),Object(J.a)(v.prototype,"createString",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"createString"),v.prototype),Object(J.a)(v.prototype,"status",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"status"),v.prototype),Object(J.a)(v.prototype,"modalOpen",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"modalOpen"),v.prototype),Object(J.a)(v.prototype,"errorMessage",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"errorMessage"),v.prototype),Object(J.a)(v.prototype,"todo",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"todo"),v.prototype),Object(J.a)(v.prototype,"inProgress",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"inProgress"),v.prototype),Object(J.a)(v.prototype,"done",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"done"),v.prototype),Object(J.a)(v.prototype,"db",[$.f],Object.getOwnPropertyDescriptor(v.prototype,"db"),v.prototype),v),te=a(65),ae=a.n(te),re=function(){return y.a.fromPromise((function(){return ae.a.connect("testDB")}))},ne=function(e){return y.a.fromPromise((function(){return e.db.getCards()}))},oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).tester=void 0,r.effect=void 0,r.comparer=$.e.default,r.running=void 0,r.state={},r}return Object(c.a)(a,[{key:"options",get:function(){return{fireImmediately:this.props.fireImmediately,delay:this.props.debounceDelay,equals:this.comparer}}},{key:"componentDidMount",value:function(){this.running=this.run()}},{key:"componentWillUnmount",value:function(){this.running&&this.running()}},{key:"render",value:function(){return r.createElement(r.Fragment,null)}},{key:"run",value:function(){return Object($.n)(this.tester,this.effect,this.options)}}]),a}(r.Component),ie=a(14),se=a(10),ce=a(2),le=a(19),ue=a(38),de=["add-complete","add-current","add-progress-detail","ancestor","ancestor-1","announcements","asset","assignments","attachment","asset-usages","bluejeans","bulk-update-team-message","catalog-listings","coaching-products","communications","communications-template","copy","copy-form","conference-room","create","create-form","deactivate","delete","destroy","download","example-metadata","example-translation","edit","edit-content","edit-form","edit-publish-settings","edit-schedule","engagement","engagement-activities","files","history","impersonate","import","import-errors","import-items","import-translations","index","last-published-by","logs","meta","new","next","options","organization-template","origin-program","override-template","page-template","parent","parent-program","preview","previous","products","program-families","programs","progress","publish","reactivate","recipients-template","recommendation-engines","registrants","remove","remove-communication","remove-complete","salesforce","scopeable","self","share-urls","shareFile","shared-open-enrollment","shared-open-enrollment-short-link","thumb","update","update-override-template","use-case","use-case-registrant-options-template","use-case-registrant-template","use-case-roster","user","view","view-all","visualization-token"],pe=function(e){return Object(ue.toResult)("Expected to find an HTTP rel string. Instead I found ".concat(e),Object(le.find)((function(t){return t===e}),de))},ge=(se.resource,se.payload,Object(se.linksDecoder)(pe),Object(se.resourceDecoder)(pe)),be=(Object(se.resourceWithErrorsDecoder)(pe),Object(se.resourceWithMetadataDecoder)(pe),Object(ce.succeed)({}).assign("kind",Object(ce.field)("kind",Object(ie.stringLiteral)("validation-error"))).assign("title",Object(ce.field)("title",Object(ie.stringLiteral)("Invalid Attribute"))).assign("resource",Object(ce.field)("resource",ce.string)).assign("attributePath",Object(ce.field)("attribute_path",ce.string)).assign("attribute",Object(ce.field)("attribute",ce.string)).assign("detail",Object(ce.field)("detail",ce.string)).assign("error",Object(ce.field)("error",ce.string))),fe=(Object(ce.array)(be),a(11)),me=function(e){return function(t){return new y.a((function(a,r){return e.decodeAny(t).cata({Ok:r,Err:a}),fe.noop}))}},Oe=Object(ce.oneOf)([Object(ie.stringLiteral)("TODO"),Object(ie.stringLiteral)("DONE"),Object(ie.stringLiteral)("IN_PROGRESS")]),he=Object(ce.succeed)({}).assign("id",Object(ce.field)("id",ce.string)).assign("name",Object(ce.field)("name",ce.string)).assign("description",Object(ce.field)("description",ce.string)).assign("status",Object(ce.field)("status",Oe)).assign("created",Object(ce.field)("created",ce.number)).assign("lastUpdated",Object(ce.field)("lastUpdated",ce.number)),je=(me(he),ge(he),Object(ce.array)(he)),ye=function(e){return me(je)(e).mapError((function(e){return{err:"decoder error ".concat(e)}}))},ke=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).tester=function(){return e.props.store.state},e.effect=function(t){var a=e.props.store;switch(t.kind){case"waiting":a.load();break;case"loading":y.a.succeed({}).assign("db",re).do(a.ready).andThen(ne).andThen(ye).do(a.setCards).fork((function(e){return console.log(e)}),(function(e){return console.log(e)}));break;case"ready":case"error":break;default:Z(t)}},e}return Object(c.a)(a)}(oe),ve=Object(d.a)(ke),we=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).store=new ee,e}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.store.state.kind),console.log(this.store),r.createElement(r.Fragment,null,r.createElement(F,{store:this.store,createString:this.store.createString}),r.createElement(ve,{store:this.store,fireImmediately:!0}))}}]),a}(r.Component),Ee=Object(d.a)(we);a(138),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.createRoot(document.getElementById("root")).render(n.a.createElement(Ee,null)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a(139)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},91:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.c059016c.chunk.js.map