(this["webpackJsonpkanbandb-app"]=this["webpackJsonpkanbandb-app"]||[]).push([[0],{138:function(e,t,r){},139:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(63),o=r.n(i),s=r(8),c=r(9),u=r(13),d=r(12),l=r(6),p=(r(73),r(17)),b=(r(74),r(75),r(15)),f=r(18),g=r(5),m=r.n(g),O=(r(76),function(e,t){return function(r){r.preventDefault(),e.delete(t),m.a.fromPromise((function(){return e.db.deleteCardById(t)})).fork((function(e){return console.log(e)}),(function(e){return console.log(e)}))}}),h=Object(l.a)((function(e){var t=e.card,r=e.index,a=e.store;return n.a.createElement(b.b,{draggableId:t.id,index:r},(function(e,r){return n.a.createElement("div",Object.assign({className:"card"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,id:t.id,style:(i=r.isDragging,o=e.draggableProps.style,i&&null!==o.transform&&(o.transform+=" rotate(3deg)"),Object(f.a)({},o))}),t.description,n.a.createElement("button",{onClick:O(a,t.id),className:"delete"},"\u2715"));var i,o}))})),j=Object(l.a)((function(e){var t=e.cards,r=e.status,n=e.store;return a.createElement(b.c,{droppableId:r},(function(e){return a.createElement("div",Object.assign({ref:e.innerRef,className:"card-column"},e.droppableProps),t.map((function(e,t){return a.createElement(h,{card:e,index:t,key:e.id,store:n})})),e.placeholder)}))})),y=r(40),k=r.n(y),w=(r(91),r(14)),v=r(10),E=r(2),P=r(19),D=r(38),S=["add-complete","add-current","add-progress-detail","ancestor","ancestor-1","announcements","asset","assignments","attachment","asset-usages","bluejeans","bulk-update-team-message","catalog-listings","coaching-products","communications","communications-template","copy","copy-form","conference-room","create","create-form","deactivate","delete","destroy","download","example-metadata","example-translation","edit","edit-content","edit-form","edit-publish-settings","edit-schedule","engagement","engagement-activities","files","history","impersonate","import","import-errors","import-items","import-translations","index","last-published-by","logs","meta","new","next","options","organization-template","origin-program","override-template","page-template","parent","parent-program","preview","previous","products","program-families","programs","progress","publish","reactivate","recipients-template","recommendation-engines","registrants","remove","remove-communication","remove-complete","salesforce","scopeable","self","share-urls","shareFile","shared-open-enrollment","shared-open-enrollment-short-link","thumb","update","update-override-template","use-case","use-case-registrant-options-template","use-case-registrant-template","use-case-roster","user","view","view-all","visualization-token"],I=function(e){return Object(D.toResult)("Expected to find an HTTP rel string. Instead I found ".concat(e),Object(P.find)((function(t){return t===e}),S))},N=(v.resource,v.payload,Object(v.linksDecoder)(I),Object(v.resourceDecoder)(I)),C=(Object(v.resourceWithErrorsDecoder)(I),Object(v.resourceWithMetadataDecoder)(I),Object(E.succeed)({}).assign("kind",Object(E.field)("kind",Object(w.stringLiteral)("validation-error"))).assign("title",Object(E.field)("title",Object(w.stringLiteral)("Invalid Attribute"))).assign("resource",Object(E.field)("resource",E.string)).assign("attributePath",Object(E.field)("attribute_path",E.string)).assign("attribute",Object(E.field)("attribute",E.string)).assign("detail",Object(E.field)("detail",E.string)).assign("error",Object(E.field)("error",E.string))),x=(Object(E.array)(C),r(11)),R=function(e){return function(t){return new m.a((function(r,a){return e.decodeAny(t).cata({Ok:a,Err:r}),x.noop}))}},T=Object(E.oneOf)([Object(w.stringLiteral)("TODO"),Object(w.stringLiteral)("DONE"),Object(w.stringLiteral)("IN_PROGRESS")]),z=Object(E.succeed)({}).assign("id",Object(E.field)("id",E.string)).assign("name",Object(E.field)("name",E.string)).assign("description",Object(E.field)("description",E.string)).assign("status",Object(E.field)("status",T)).assign("created",Object(E.field)("created",E.number)).assign("lastUpdated",Object(E.field)("lastUpdated",E.number)),A=(R(z),N(z),Object(E.array)(z)),M=function(e){return R(A)(e).mapError((function(e){return{err:"decoder error ".concat(e)}}))},L=E.string,_={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"50%",height:"25%",boxShadow:"0px 2px 5px 5px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"center"}};k.a.setAppElement("#root");var G,B,U,W,V,q,F,H,J,$,K,Q,X,Y,Z=function(e){return function(t){e.setCreateString(t.target.value)}},ee=function(e,t){return function(r){r.preventDefault(),t.trim().length&&e.toggleModal(!0)}},te=function(e){return function(t){e.toggleModal(!1)}},re=function(e){return function(t){t.preventDefault();var r={name:e.createString.getOrElseValue(""),description:e.createString.getOrElseValue(""),status:e.status};r.status.length>0&&m.a.fromPromise((function(){return e.db.addCard(r)})).fork((function(e){return console.log(e)}),(function(t){var a;(a=t,R(L)(a).mapError((function(e){return{err:"decoder error ".concat(e)}}))).fork((function(){}),(function(t){var a=Object.assign({id:t,created:Date.now(),lastUpdated:Date.now()},r);e.addCard(a)}))}))}},ae=function(e){return function(t){e.setStatus(t.target.value)}},ne=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.store;return n.a.createElement("div",{className:"create-card"},n.a.createElement(k.a,{isOpen:e.modalOpen,onRequestClose:te(e),style:_,contentLabel:"Create Card Modal"},n.a.createElement("form",{onSubmit:re(e),className:"modal-form"},n.a.createElement("select",{onChange:ae(e),value:e.status},n.a.createElement("option",{value:"",disabled:!0},"SELECT STATUS"),n.a.createElement("option",{value:"TODO"},"To-do"),n.a.createElement("option",{value:"IN_PROGRESS"},"In Progress"),n.a.createElement("option",{value:"DONE"},"Done")),n.a.createElement("button",null,"CREATE CARD"))),n.a.createElement("form",{onSubmit:ee(e,e.createString.getOrElseValue("")),className:"create-card-form"},n.a.createElement("input",{onChange:Z(e),value:this.props.createString.getOrElseValue(""),placeholder:"e.g. Bug: TextPoll not dispatching half stars",maxLength:500}),n.a.createElement("button",null,"ADD NEW")))}}]),r}(n.a.Component),ie=Object(l.a)(ne),oe=function(e,t){switch(e){case"TODO":return Array.from(t.todo);case"IN_PROGRESS":return Array.from(t.inProgress);case"DONE":return Array.from(t.done);default:return[]}},se=function(e,t,r){switch(e){case"TODO":return r.setTodo(t);case"IN_PROGRESS":return r.setInProgress(t);case"DONE":return r.setDone(t)}},ce=function(e){return function(t){var r=t.destination,a=t.source;if(r&&(r.droppableId!==a.droppableId||r.index!==a.index)){var n=a.droppableId,i=oe(n,e);if(r.droppableId===a.droppableId){var o=i.splice(a.index,1);i.splice.apply(i,[r.index,0].concat(Object(p.a)(o))),se(n,i,e)}if(r.droppableId!==a.droppableId){var s=i[a.index];s.status=r.droppableId,i.splice(a.index,1);var c=oe(r.droppableId,e);c.splice(r.index,0,s),se(r.droppableId,c,e),se(n,i,e),m.a.fromPromise((function(){return e.db.updateCardById(s.id,{status:r.droppableId})})).fork((function(e){return console.log(e)}),(function(e){return console.log(e)}))}}}},ue=Object(l.a)((function(e){var t=e.store,r=e.createString;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"columns-container"},n.a.createElement(b.a,{onDragEnd:ce(t)},n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"To-do"),n.a.createElement(j,{cards:t.todo,status:"TODO",store:t})),n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"In Progress"),n.a.createElement(j,{cards:t.inProgress,status:"IN_PROGRESS",store:t})),n.a.createElement("div",{className:"column-container"},n.a.createElement("h1",{className:"column-title"},"Done"),n.a.createElement(j,{cards:t.done,status:"DONE",store:t})),n.a.createElement(ie,{store:t,createString:r}))))})),de=r(4),le=r(3),pe=(r(135),r(1)),be=r(16),fe=r(41),ge=["kind"],me=["kind"],Oe=function(e){throw new Error("Unexpected object: ".concat(e))},he=(G=function(){function e(){Object(s.a)(this,e),Object(de.a)(this,"state",B,this),Object(de.a)(this,"load",U,this),Object(de.a)(this,"ready",W,this),Object(de.a)(this,"error",V,this),Object(de.a)(this,"setCreateString",q,this),Object(de.a)(this,"toggleModal",F,this),Object(de.a)(this,"setStatus",H,this),Object(de.a)(this,"addCard",J,this),Object(de.a)(this,"setTodo",$,this),Object(de.a)(this,"setInProgress",K,this),Object(de.a)(this,"setDone",Q,this),Object(de.a)(this,"setCards",X,this),Object(de.a)(this,"delete",Y,this)}return Object(c.a)(e,[{key:"createString",get:function(){switch(this.state.kind){case"ready":case"loading":return Object(be.just)(this.state.createString);case"waiting":case"error":default:return Object(be.nothing)()}}},{key:"status",get:function(){switch(this.state.kind){case"ready":case"loading":return this.state.status;case"waiting":case"error":default:return""}}},{key:"modalOpen",get:function(){switch(this.state.kind){case"ready":case"loading":return this.state.open;case"waiting":case"error":default:return!1}}},{key:"errorMessage",get:function(){switch(this.state.kind){case"error":return Object(be.just)(this.state.message);case"ready":case"loading":case"waiting":default:return Object(be.nothing)()}}},{key:"todo",get:function(){switch(this.state.kind){case"ready":return this.state.todo;case"error":case"loading":case"waiting":default:return[]}}},{key:"inProgress",get:function(){switch(this.state.kind){case"ready":return this.state.inProgress;case"error":case"loading":case"waiting":default:return[]}}},{key:"done",get:function(){switch(this.state.kind){case"ready":return this.state.done;case"error":case"loading":case"waiting":default:return[]}}},{key:"db",get:function(){switch(this.state.kind){case"ready":return this.state.db;case"loading":case"waiting":case"error":default:return!1}}}]),e}(),B=Object(le.a)(G.prototype,"state",[pe.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{kind:"waiting"}}}),U=Object(le.a)(G.prototype,"load",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){switch(e.state.kind){case"waiting":e.state=function(e){e.kind;var t=Object(fe.a)(e,ge);return Object(f.a)(Object(f.a)({kind:"loading"},t),{},{createString:"",open:!1,status:"",todo:[],inProgress:[],done:[],db:void 0})}(e.state);break;case"ready":case"loading":case"error":break;default:Oe(e.state)}}}}),W=Object(le.a)(G.prototype,"ready",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":case"error":case"waiting":break;case"loading":e.state.db=t.db,e.state=function(e){e.kind;var t=Object(fe.a)(e,me);return Object(f.a)({kind:"ready"},t)}(e.state);break;default:Oe(e.state)}}}}),V=Object(le.a)(G.prototype,"error",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.state={kind:"error",message:"Request failed due to '".concat(t.kind,"'. Please try again later.")}}}}),q=Object(le.a)(G.prototype,"setCreateString",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.createString=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),F=Object(le.a)(G.prototype,"toggleModal",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.open=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),H=Object(le.a)(G.prototype,"setStatus",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.status=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),J=Object(le.a)(G.prototype,"addCard",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":switch(t.status){case"TODO":e.state.todo=[].concat(Object(p.a)(e.state.todo),[t]).flat();break;case"IN_PROGRESS":e.state.inProgress=[].concat(Object(p.a)(e.state.inProgress),[t]).flat();break;case"DONE":e.state.done=[].concat(Object(p.a)(e.state.done),[t]).flat()}e.state.open=!1,e.state.createString="",e.state.status="";break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),$=Object(le.a)(G.prototype,"setTodo",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.todo=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),K=Object(le.a)(G.prototype,"setInProgress",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.inProgress=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),Q=Object(le.a)(G.prototype,"setDone",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.done=t;break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),X=Object(le.a)(G.prototype,"setCards",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.todo=t.filter((function(e){return"TODO"===e.status})),e.state.inProgress=t.filter((function(e){return"IN_PROGRESS"===e.status})),e.state.done=t.filter((function(e){return"DONE"===e.status})),e.state.open=!1,e.state.createString="";break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),Y=Object(le.a)(G.prototype,"delete",[pe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){switch(e.state.kind){case"ready":e.state.todo=e.state.todo.filter((function(e){return e.id!==t})),e.state.inProgress=e.state.inProgress.filter((function(e){return e.id!==t})),e.state.done=e.state.done.filter((function(e){return e.id!==t}));break;case"error":case"waiting":case"loading":break;default:Oe(e.state)}}}}),Object(le.a)(G.prototype,"createString",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"createString"),G.prototype),Object(le.a)(G.prototype,"status",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"status"),G.prototype),Object(le.a)(G.prototype,"modalOpen",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"modalOpen"),G.prototype),Object(le.a)(G.prototype,"errorMessage",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"errorMessage"),G.prototype),Object(le.a)(G.prototype,"todo",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"todo"),G.prototype),Object(le.a)(G.prototype,"inProgress",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"inProgress"),G.prototype),Object(le.a)(G.prototype,"done",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"done"),G.prototype),Object(le.a)(G.prototype,"db",[pe.f],Object.getOwnPropertyDescriptor(G.prototype,"db"),G.prototype),G),je=r(65),ye=r.n(je),ke=function(){return m.a.fromPromise((function(){return ye.a.connect("testDB")}))},we=function(e){return m.a.fromPromise((function(){return e.db.getCards()}))},ve=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).tester=function(){return e.props.store.state},e.effect=function(t){var r=e.props.store;switch(t.kind){case"waiting":r.load();break;case"loading":m.a.succeed({}).assign("db",ke).do(r.ready).andThen(we).andThen(M).do(r.setCards).fork((function(e){return console.log(e)}),(function(e){return console.log(e)}));break;case"ready":case"error":break;default:Oe(t)}},e}return Object(c.a)(r)}(function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).tester=void 0,a.effect=void 0,a.comparer=pe.e.default,a.running=void 0,a.state={},a}return Object(c.a)(r,[{key:"options",get:function(){return{fireImmediately:this.props.fireImmediately,delay:this.props.debounceDelay,equals:this.comparer}}},{key:"componentDidMount",value:function(){this.running=this.run()}},{key:"componentWillUnmount",value:function(){this.running&&this.running()}},{key:"render",value:function(){return a.createElement(a.Fragment,null)}},{key:"run",value:function(){return Object(pe.n)(this.tester,this.effect,this.options)}}]),r}(a.Component)),Ee=Object(l.a)(ve),Pe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).store=new he,e}return Object(c.a)(r,[{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement(ue,{store:this.store,createString:this.store.createString}),a.createElement(Ee,{store:this.store,fireImmediately:!0}))}}]),r}(a.Component),De=Object(l.a)(Pe);r(138),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.createRoot(document.getElementById("root")).render(n.a.createElement(De,null)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,r){e.exports=r(139)},73:function(e,t,r){},74:function(e,t,r){},75:function(e,t,r){},76:function(e,t,r){},91:function(e,t,r){}},[[66,1,2]]]);
//# sourceMappingURL=main.f718a163.chunk.js.map